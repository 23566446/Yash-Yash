<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>YashYash | 行程規劃</title>
    <!-- 1. 引入你的樣式表 -->
    <link rel="stylesheet" href="css/style.css">
    <!-- 2. 額外加入這段 CSS 修正，強制覆蓋 body 的置中問題 -->
    <style>
        body { 
            display: flex !important; 
            flex-direction: column !important; 
            justify-content: flex-start !important; 
            align-items: stretch !important; 
            overflow: hidden !important;
            height: 100vh;
        }
        .trip-layout {
            display: flex;
            flex-direction: row;
            flex: 1;
            height: calc(100vh - 70px);
            width: 100vw;
        }
        /* 強制固定左側寬度，防止變細線 */
        .itinerary-sidebar {
            width: 380px !important;
            min-width: 380px !important;
            background: #fdfcf9;
            border-right: 1px solid #e0ddd7;
            overflow-y: auto;
            padding: 20px;
        }
        .map-view {
            flex: 1;
            position: relative;
        }
    </style>
</head>
<body>
    <header class="app-header">
        <button onclick="location.href='index.html'" class="btn-small">← 返回</button>
        <div id="trip-title" class="trip-title">載入中...</div>
        <!-- 確保這個按鈕存在 -->
        <button onclick="editTripDates()" class="btn-small" style="background:var(--clay); color:white; border:none;">修改日期</button>
    </header>

    <div class="trip-layout">
        <aside class="itinerary-sidebar">
            <div id="days-container">
                <!-- 由 JS 渲染內容 -->
            </div>
        </aside>
        <main class="map-view">
            <div class="map-search-container">
                <input id="pac-input" type="text" placeholder="搜尋地點加入行程...">
            </div>
            <div id="map"></div>
        </main>
    </div>

    <!-- 關鍵：必須引入 Sortable.js -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <!-- 載入 Google Maps API (記得換你的 KEY) -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyByHmLJTyobrL2u8kjPmK-mDtD2JqR2Elc&libraries&libraries&libraries=places"></script>
    <script src="js/trip-details.js"></script>
</body>
</html>